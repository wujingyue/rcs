# Author: Jingyue

class Config:
    global_config = None

    @staticmethod
    def get_global_config():
        if Config.global_config is None:
            Config.global_config = Config('@LLVM_SRC@',
                                          '@LLVM_OBJ@',
                                          '@abs_top_srcdir@',
                                          '@abs_top_builddir@',
                                          '@BuildMode@',
                                          '@prefix@')
        return Config.global_config

    def __init__(self,
                 llvm_src_root, llvm_obj_root,
                 proj_src_root, proj_obj_root,
                 build_mode,
                 prefix):
        self.llvm_src_root = llvm_src_root
        self.llvm_obj_root = llvm_obj_root
        self.proj_src_root = proj_src_root
        self.proj_obj_root = proj_obj_root
        self.prefix = prefix
        self.build_mode = build_mode

    # Get the location of built libraries (.so and .a files).
    def get_lib_path(self):
        return os.path.join(self.proj_obj_root, self.build_mode, 'lib')

    # Get the location of built tools (executables).
    def get_bin_path(slef):
        return os.path.join(self.proj_obj_root, self.build_mode, 'bin')
